{"version":3,"sources":["./src/app/record/record.page.html","./src/app/record/record.module.ts","./src/app/record/record.page.scss","./src/app/record/record.page.ts"],"names":[],"mappings":"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","file":"record-record-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>\\r\\n      سجل جديد\\r\\n    </ion-title>\\r\\n    <ion-toolbar>\\r\\n      <ion-searchbar animated [(ngModel)]=\\\"searchTerm\\\" (ionChange)=\\\"getFilterd()\\\"></ion-searchbar>\\r\\n    </ion-toolbar>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n  <ion-grid fixed>\\r\\n    <ion-row>\\r\\n      <ion-col size=\\\"12\\\">\\r\\n\\r\\n        <ion-card *ngIf=\\\"searchEnabled\\\">\\r\\n          <ion-card-content *ngFor=\\\"let item of filteredRecords\\\">\\r\\n            <ion-item (click)=\\\"selectCustomer(item.UserID, item.Name)\\\">\\r\\n              <ion-label>{{ item.Name }}</ion-label>\\r\\n            </ion-item>\\r\\n          </ion-card-content>\\r\\n        </ion-card>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row *ngIf=\\\"showInput\\\">\\r\\n      <ion-col size=\\\"12\\\">\\r\\n        <ion-card>\\r\\n          <ion-card-header>\\r\\n            <ion-card-title>{{ selectedUser.Name }}</ion-card-title>\\r\\n          </ion-card-header>\\r\\n          <ion-card-content justify-content-center class=\\\"ion-text-center\\\">\\r\\n            {{sum}}\\r\\n            <table class=\\\"ion-text-center\\\">\\r\\n              <tr>\\r\\n                <td>\\r\\n                  <ion-button color=\\\"light\\\" (click)=\\\"addValue(1)\\\">1</ion-button>\\r\\n                </td>\\r\\n                <td>\\r\\n                  <ion-button color=\\\"light\\\" (click)=\\\"addValue(2)\\\">2</ion-button>\\r\\n                </td>\\r\\n                <td>\\r\\n                  <ion-button color=\\\"light\\\" (click)=\\\"addValue(3)\\\">3</ion-button>\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <td>\\r\\n                  <ion-button color=\\\"light\\\" (click)=\\\"addValue(4)\\\">4</ion-button>\\r\\n                </td>\\r\\n                <td>\\r\\n                  <ion-button color=\\\"light\\\" (click)=\\\"addValue(5)\\\">5</ion-button>\\r\\n                </td>\\r\\n                <td>\\r\\n                  <ion-button color=\\\"light\\\" (click)=\\\"addValue(6)\\\">6</ion-button>\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <td>\\r\\n                  <ion-button color=\\\"light\\\" (click)=\\\"addValue(7)\\\">7</ion-button>\\r\\n                </td>\\r\\n                <td>\\r\\n                  <ion-button color=\\\"light\\\" (click)=\\\"addValue(8)\\\">8</ion-button>\\r\\n                </td>\\r\\n                <td>\\r\\n                  <ion-button color=\\\"light\\\" (click)=\\\"addValue(9)\\\">9</ion-button>\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <td></td>\\r\\n                <td>\\r\\n                  <ion-button color=\\\"light\\\" (click)=\\\"addValue(0)\\\">0</ion-button>\\r\\n                </td>\\r\\n\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <td colspan=\\\"3\\\">\\r\\n                  <ion-button class='paybtn' color=\\\"danger\\\" (click)=\\\"addValue(10)\\\">حذف</ion-button>\\r\\n                </td>\\r\\n              </tr>\\r\\n              <tr>\\r\\n                <td colspan=\\\"3\\\">\\r\\n                  <ion-button class='paybtn' (click)=\\\"addToAccount()\\\">اضافة</ion-button>\\r\\n                </td>\\r\\n              </tr>\\r\\n            </table>\\r\\n          </ion-card-content>\\r\\n        </ion-card>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RecordPage } from './record.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RecordPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [RecordPage]\r\n})\r\nexport class RecordPageModule {}\r\n","module.exports = \"ion-card-title {\\n  text-align: center;\\n}\\n\\ntable {\\n  width: 100%;\\n  direction: ltr;\\n}\\n\\nion-card-content {\\n  font-size: 40px;\\n}\\n\\n.paybtn {\\n  width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVjb3JkL0U6XFxzdXBlcm1hcmtldFxcc3VwZXJtYXJrZXQyXFxTdXBlck1hcmtldC9zcmNcXGFwcFxccmVjb3JkXFxyZWNvcmQucGFnZS5zY3NzIiwic3JjL2FwcC9yZWNvcmQvcmVjb3JkLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0FDQ0o7O0FEQ0E7RUFDSSxXQUFBO0VBQ0EsY0FBQTtBQ0VKOztBREFBO0VBQ0ksZUFBQTtBQ0dKOztBRERBO0VBQ0ksV0FBQTtBQ0lKIiwiZmlsZSI6InNyYy9hcHAvcmVjb3JkL3JlY29yZC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY2FyZC10aXRsZXtcclxuICAgIHRleHQtYWxpZ246Y2VudGVyO1xyXG59XHJcbnRhYmxle1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBkaXJlY3Rpb246IGx0cjtcclxufVxyXG5pb24tY2FyZC1jb250ZW50e1xyXG4gICAgZm9udC1zaXplOiA0MHB4O1xyXG59XHJcbi5wYXlidG4ge1xyXG4gICAgd2lkdGg6MTAwJTtcclxufVxyXG4iLCJpb24tY2FyZC10aXRsZSB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxudGFibGUge1xuICB3aWR0aDogMTAwJTtcbiAgZGlyZWN0aW9uOiBsdHI7XG59XG5cbmlvbi1jYXJkLWNvbnRlbnQge1xuICBmb250LXNpemU6IDQwcHg7XG59XG5cbi5wYXlidG4ge1xuICB3aWR0aDogMTAwJTtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { DataService } from '../data.service';\r\nimport { Record } from '../record';\r\nimport { LoadingController } from '@ionic/angular';\r\nimport { HttpHeaders } from '@angular/common/http';\r\nimport { AlertController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-record',\r\n  templateUrl: './record.page.html',\r\n  styleUrls: ['./record.page.scss']\r\n})\r\nexport class RecordPage implements OnInit {\r\n  searchTerm;\r\n  records;\r\n  filteredRecords;\r\n  searchEnabled = true;\r\n  showInput = false;\r\n  store;\r\n  sum = '';\r\n  selectedUser = {\r\n    _id: '',\r\n    Name: ''\r\n  };\r\n  constructor(\r\n    private data: DataService,\r\n    private loading: LoadingController,\r\n    private alertController: AlertController\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.data.selectedStore.subscribe(s=>{\r\n      this.store = s;\r\n    })\r\n    this.presentLoading('يتم التحميل...').then(async () => {\r\n      await this.getRecord();\r\n      this.loading.dismiss();\r\n    });\r\n  }\r\n  async presentAlert() {\r\n    const alert = await this.alertController.create({\r\n      message: '<b>تم الحفظ</b> <ion-icon name=md-done-all></ion-icon>',\r\n      buttons: ['موافق']\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  getRecord() {\r\n    return new Promise((resolve, rej) => {\r\n      return this.data.getRecords(this.store.StoreID).subscribe(res => {\r\n        this.records = res;\r\n        this.filteredRecords = res;\r\n        resolve();\r\n      });\r\n    });\r\n  }\r\n  getFilterd() {\r\n    console.log('search val ', this.searchTerm);\r\n    console.log('records ', this.records);\r\n    this.searchEnabled = true;\r\n    this.filteredRecords = this.records.filter(s => {\r\n      console.log(s);\r\n      return s.Name.includes(this.searchTerm);\r\n    });\r\n  }\r\n\r\n  selectCustomer(id, name) {\r\n    this.selectedUser.Name = name;\r\n    this.selectedUser._id = id;\r\n    this.showInput = true;\r\n    this.searchEnabled = false;\r\n  }\r\n  addValue(val) {\r\n    val === 10 ? (this.sum = '') : (this.sum += val);\r\n  }\r\n  addToAccount() {\r\n    if (!this.sum) { return; }\r\n    this.presentLoading('يتم الحفظ').then(() => {\r\n      this.data.addTransaction(this.selectedUser._id, this.sum).subscribe(s => {\r\n        console.log('finished trans', s);\r\n        this.loading.dismiss();\r\n        if (s) {\r\n          this.presentAlert();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  async presentLoading(msg) {\r\n    const loading = await this.loading.create({\r\n      message: msg\r\n    });\r\n    await loading.present();\r\n  }\r\n}\r\n"],"sourceRoot":""}